(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07a91bd8","chunk-140d3c64","chunk-2d0c7ad7","chunk-2d0c1974","chunk-2d2371fe","chunk-2d22ba4d","chunk-2d0c4f7a"],{"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),a=n("6821"),o=n("6a99"),c=n("69a8"),s=n("c69a"),u=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?u:function(t,e){if(t=a(t),e=o(e,!0),s)try{return u(t,e)}catch(n){}if(c(t,e))return r(!i.f.call(t,e),t[e])}},"28a5":function(t,e,n){"use strict";var i=n("aae3"),r=n("cb7c"),a=n("ebd6"),o=n("0390"),c=n("9def"),s=n("5f1b"),u=n("520a"),l=n("79e5"),d=Math.min,f=[].push,h="split",p="length",g="lastIndex",m=4294967295,b=!l((function(){RegExp(m,"y")}));n("214f")("split",2,(function(t,e,n,l){var v;return v="c"=="abbc"[h](/(b)*/)[1]||4!="test"[h](/(?:)/,-1)[p]||2!="ab"[h](/(?:ab)*/)[p]||4!="."[h](/(.?)(.?)/)[p]||"."[h](/()()/)[p]>1||""[h](/.?/)[p]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!i(t))return n.call(r,t,e);var a,o,c,s=[],l=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,h=void 0===e?m:e>>>0,b=new RegExp(t.source,l+"g");while(a=u.call(b,r)){if(o=b[g],o>d&&(s.push(r.slice(d,a.index)),a[p]>1&&a.index<r[p]&&f.apply(s,a.slice(1)),c=a[0][p],d=o,s[p]>=h))break;b[g]===a.index&&b[g]++}return d===r[p]?!c&&b.test("")||s.push(""):s.push(r.slice(d)),s[p]>h?s.slice(0,h):s}:"0"[h](void 0,0)[p]?function(t,e){return void 0===t&&0===e?[]:n.call(this,t,e)}:n,[function(n,i){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r,i):v.call(String(r),n,i)},function(t,e){var i=l(v,t,this,e,v!==n);if(i.done)return i.value;var u=r(t),f=String(this),h=a(u,RegExp),p=u.unicode,g=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(b?"y":"g"),y=new h(b?u:"^(?:"+u.source+")",g),_=void 0===e?m:e>>>0;if(0===_)return[];if(0===f.length)return null===s(y,f)?[f]:[];var k=0,w=0,O=[];while(w<f.length){y.lastIndex=b?w:0;var j,I=s(y,b?f:f.slice(w));if(null===I||(j=d(c(y.lastIndex+(b?0:w)),f.length))===k)w=o(f,w,p);else{if(O.push(f.slice(k,w)),O.length===_)return O;for(var S=1;S<=I.length-1;S++)if(O.push(I[S]),O.length===_)return O;w=k=j}}return O.push(f.slice(k)),O}]}))},3829:function(t,e,n){},"3ca5":function(t,e,n){"use strict";n.r(e);var i=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"];e["default"]=i},"41bb":function(t,e,n){"use strict";n.r(e);n("28a5"),n("ac6a"),n("c5f6");var i=n("8256"),r=n("5c96"),a=n("f09f"),o=n("3ca5"),c=n("5248"),s=n("4761"),u=n("fa7d"),l=n("5f87");e["default"]={name:"Tinymce",components:{editorImage:i["default"]},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{uploadUrl:"",uploadFileId:"",uploadHeaders:{Authorization:""},loadingInstance:{},form:{title:"",author:"",idChannel:"1",content:"",img:""},articleImg:"",ifUpload:!0,options:[],hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick((function(){return window.tinymce.get(e.tinymceId).setContent(t||"")}))},language:function(){var t=this;this.destroyTinymce(),this.$nextTick((function(){return t.initTinymce()}))}},mounted:function(){this.init(),this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{init:function(){var t=this;this.uploadUrl=Object(u["getApiUrl"])()+"/file",this.uploadHeaders["Authorization"]=Object(l["getToken"])();var e=this.$route.query.id;e&&Object(c["get"])(e).then((function(e){t.form=e.data,t.setContent(e.data.content),t.articleImg=t.uploadUrl+"/getImgStream?idFile="+e.data.img,t.ifUpload=!1})),Object(s["getList"])().then((function(e){t.options=e.data}))},initTinymce:function(){var t=this,e=this;window.tinymce.init({value:"aaaaaa",language:this.language,selector:"#".concat(this.tinymceId),height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:o["default"],menubar:this.menubar,plugins:a["default"],end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(n){e.value&&n.setContent(e.value),e.hasInit=!0,n.on("NodeChange Change KeyUp SetContent",(function(){t.hasChange=!0;var e=n.getContent();t.form.content=e}))},setup:function(t){t.on("FullscreenStateChanged",(function(t){e.fullscreen=t.state}))}})},destroyTinymce:function(){var t=window.tinymce.get(this.tinymceId);this.fullscreen&&t.execCommand("mceFullScreen"),t&&t.destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach((function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'.concat(t.url,'" >'))}))},save:function(){var t=this;this.$refs["form"].validate((function(e){if(!e)return!1;var n=t.form.content.split("%").join("%25");Object(c["save"])({id:t.form.id,title:t.form.title,author:t.form.author,idChannel:t.form.idChannel,content:n,img:t.form.img}).then((function(e){t.$message({message:t.$t("common.optionSuccess"),type:"success"}),t.back()}))}))},back:function(){this.$router.go(-1)},handleBeforeUpload:function(){if(""!==this.uploadFileId)return this.$message({message:this.$t("common.mustSelectOne"),type:"warning"}),!1;this.loadingInstance=r["Loading"].service({lock:!0,text:this.$t("common.uploading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})},handleUploadSuccess:function(t,e){this.loadingInstance.close(),2e4===t.code?this.form.img=t.data.id:this.$message({message:this.$t("common.uploadError"),type:"error"})},uploadImg:function(){this.ifUpload=!this.ifUpload}}}},"456d":function(t,e,n){var i=n("4bf8"),r=n("0d58");n("5eda")("keys",(function(){return function(t){return r(i(t))}}))},4761:function(t,e,n){"use strict";n.r(e),n.d(e,"getList",(function(){return r})),n.d(e,"save",(function(){return a})),n.d(e,"remove",(function(){return o}));var i=n("b775");function r(t){return Object(i["default"])({url:"/channel/list",method:"get",params:t})}function a(t){return Object(i["default"])({url:"/channel",method:"post",params:t})}function o(t){return Object(i["default"])({url:"/channel",method:"delete",params:{id:t}})}},"4ed8":function(t,e,n){"use strict";var i=n("3829"),r=n.n(i);r.a},5248:function(t,e,n){"use strict";n.r(e),n.d(e,"getList",(function(){return r})),n.d(e,"save",(function(){return a})),n.d(e,"remove",(function(){return o})),n.d(e,"get",(function(){return c}));var i=n("b775");function r(t){return Object(i["default"])({url:"/article/list",method:"get",params:t})}function a(t){return Object(i["default"])({url:"/article",method:"post",data:t})}function o(t){return Object(i["default"])({url:"/article",method:"delete",params:{id:t}})}function c(t){return Object(i["default"])({url:"/article",method:"get",params:{id:t}})}},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var a,o=e.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&i(a)&&r&&r(t,a),t}},"5eda":function(t,e,n){var i=n("5ca1"),r=n("8378"),a=n("79e5");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],o={};o[t]=e(n),i(i.S+i.F*a((function(){n(1)})),"Object",o)}},8256:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"upload-container"},[n("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":t.fileList,"show-file-list":!0,"on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload,headers:t.uploadHeaders,action:t.fileUrl,"list-type":"picture-card"}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},r=[],a=(n("ac6a"),n("456d"),n("fa7d")),o=n("5f87"),c={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],fileUrl:"",uploadHeaders:{Authorization:""}}},created:function(){this.fileUrl=Object(a["getApiUrl"])()+"/file",this.uploadHeaders["Authorization"]=Object(o["getToken"])()},methods:{checkAllSuccess:function(){var t=this;return Object.keys(this.listObj).every((function(e){return t.listObj[e].hasSuccess}))},handleSubmit:function(){var t=this,e=Object.keys(this.listObj).map((function(e){return t.listObj[e]}));this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var n=e.uid,i=Object.keys(this.listObj),r=0,a=i.length;r<a;r++)if(this.listObj[i[r]].uid===n)return this.listObj[i[r]].url=this.fileUrl+"/download?idFile="+t.data.id,void(this.listObj[i[r]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,n=Object.keys(this.listObj),i=0,r=n.length;i<r;i++)if(this.listObj[n[i]].uid===e)return void delete this.listObj[n[i]]},beforeUpload:function(t){var e=this,n=window.URL||window.webkitURL,i=t.uid;return this.listObj[i]={},new Promise((function(r,a){var o=new Image;o.src=n.createObjectURL(t),o.onload=function(){e.listObj[i]={hasSuccess:!1,uid:t.uid,width:this.width,height:this.height}},r(!0)}))}}},s=c,u=(n("4ed8"),n("2877")),l=Object(u["a"])(s,i,r,!1,null,"f0ccb948",null);e["default"]=l.exports},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),a=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return a(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:a}},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),a=n("79e5"),o=n("fdef"),c="["+o+"]",s="​",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(t,e,n){var r={},c=a((function(){return!!o[t]()||s[t]()!=s})),u=r[t]=c?e(f):o[t];n&&(r[n]=u),i(i.P+i.F*c,"String",r)},f=d.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=d},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),a=n("2d95"),o=n("5dbc"),c=n("6a99"),s=n("79e5"),u=n("9093").f,l=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,h="Number",p=i[h],g=p,m=p.prototype,b=a(n("2aeb")(m))==h,v="trim"in String.prototype,y=function(t){var e=c(t,!1);if("string"==typeof e&&e.length>2){e=v?e.trim():f(e,3);var n,i,r,a=e.charCodeAt(0);if(43===a||45===a){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===a){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var o,s=e.slice(2),u=0,l=s.length;u<l;u++)if(o=s.charCodeAt(u),o<48||o>r)return NaN;return parseInt(s,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(b?s((function(){m.valueOf.call(n)})):a(n)!=h)?o(new g(y(e)),n,p):y(e)};for(var _,k=n("9e1e")?u(g):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;k.length>w;w++)r(g,_=k[w])&&!r(p,_)&&d(p,_,l(g,_));p.prototype=m,m.constructor=p,n("2aba")(i,h,p)}},f09f:function(t,e,n){"use strict";n.r(e);var i=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"];e["default"]=i},fa7d:function(t,e,n){"use strict";n.r(e),n.d(e,"getApiUrl",(function(){return r}));var i="/prod-api";function r(){return i}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);